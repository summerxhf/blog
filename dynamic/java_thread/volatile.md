
# volatile变量
- 原理<br>
英 ['vɒlətaɪl]

可见性<br>
每个线程都有自己的工作内存和共享的主内存，一个线程修改一个值，会先把这个值放到自己的工作内存，然后进行修改完毕后，再同步到主内存中。
由于工作线程修改的变量并不实时的同步到主内存中，所以其他线程看到的共享内存中的变量，也许已经发生了改变。
而volatile变量保证了，工作内存中的变量实时同步到主内存中，所以各个线程都能看到这个变量主内存中的最新值。
（ps：cpu高速缓存中的数据，也不是实时的同步到cpu内存中）

防止重排列<br>

- 轻量级同步,不保证原子性

原子性:不可再分,不能分为多步操作。例如“a +=b” 这样的操作不具有原子性，在jvm中可能这样操作
先取出a和b
计算a+b
将结果写入内存
- 变量仅适用场景
1.写入变量时并不依赖变量的当前值;或者能够确保只有单一的线程修改变量的值;
2.变量不需要与其他的状态变量共同参与不变约束;
3.访问变量时,没有其他的原因需要加锁;





